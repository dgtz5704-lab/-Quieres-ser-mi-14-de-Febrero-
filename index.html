<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Minecraft Valentine ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
/* =========================================
   CORE MINECRAFT STYLES
   ========================================= */
:root {
    --mc-bg: #3c3c3c;
    --mc-btn-face: #d0d0d0;
    --mc-btn-shadow: #373737;
    --mc-btn-highlight: #ffffff;
    --mc-green: #37aa37;
    --mc-red: #aa3737;
}

body {
    margin: 0;
    height: 100vh;
    /* Fondo estilo "Cielo de Minecraft" */
    background-color: #72a9dc; 
    background-image: 
        linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 50px 50px; /* Cuadr√≠cula sutil */
    font-family: 'Press Start 2P', cursive;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    image-rendering: pixelated;
    cursor: crosshair; /* Cursor tipo mira */
}

/* Nubes pixeladas de fondo */
.cloud {
    position: absolute;
    width: 100px;
    height: 40px;
    background: rgba(255,255,255,0.6);
    z-index: 0;
    box-shadow: 
        20px 0 rgba(255,255,255,0.6), 
        -20px 0 rgba(255,255,255,0.6),
        0 -20px rgba(255,255,255,0.6);
    animation: drift linear infinite;
}

@keyframes drift {
    from { left: -150px; }
    to { left: 110vw; }
}

/* =========================================
   GUI CONTAINER (Estilo Inventario)
   ========================================= */
.minecraft-box {
    background-color: #c6c6c6;
    border: 4px solid #000;
    /* Bordes estilo 3D Minecraft */
    border-right-color: #555;
    border-bottom-color: #555;
    border-left-color: #fff;
    border-top-color: #fff;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    position: relative;
    z-index: 10;
    box-shadow: 10px 10px 0px rgba(0,0,0,0.5);
}

h1.mc-title {
    font-size: 16px;
    color: #3f3f3f;
    text-shadow: 2px 2px 0px #fff;
    margin-bottom: 30px;
    line-height: 1.5;
}

/* Splash text (texto amarillo que palpita) */
.splash {
    color: #ffff55;
    font-size: 10px;
    text-shadow: 2px 2px 0px #3f3f3f;
    transform: rotate(-10deg);
    position: absolute;
    top: -15px;
    right: -10px;
    animation: bounce 0.8s infinite alternate;
}

@keyframes bounce {
    from { transform: rotate(-10deg) scale(1); }
    to { transform: rotate(-10deg) scale(1.2); }
}

/* =========================================
   INPUTS & BUTTONS
   ========================================= */
.mc-input-group {
    margin-bottom: 15px;
    text-align: left;
}

.mc-label {
    font-size: 10px;
    color: #404040;
    margin-bottom: 5px;
    display: block;
}

.mc-input {
    width: 100%;
    background: #000;
    border: 2px solid #a0a0a0;
    border-top-color: #555;
    border-left-color: #555;
    color: #fff;
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    padding: 10px;
    box-sizing: border-box;
    outline: none;
}

.mc-btn {
    background: #d0d0d0;
    border: 4px solid #000;
    border-left-color: #fff;
    border-top-color: #fff;
    border-right-color: #555;
    border-bottom-color: #555;
    color: #000;
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    padding: 15px 10px;
    width: 100%;
    cursor: pointer;
    margin-top: 10px;
    position: relative;
}

.mc-btn:active {
    border-left-color: #555;
    border-top-color: #555;
    border-right-color: #fff;
    border-bottom-color: #fff;
    transform: translateY(2px);
    background: #c0c0c0;
}

.mc-btn:hover {
    background: #e0e0e0;
}

.btn-green { color: #1e5620; text-shadow: 1px 1px 0 #fff; }
.btn-red { color: #8b0000; }

/* =========================================
   THE PROPOSAL SCREEN
   ========================================= */
#pantalla-carta { display: none; }

.runaway-btn {
    position: absolute; 
    width: auto !important;
    display: inline-block;
}

.botones-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 30px;
    min-height: 60px; /* Espacio para que se mueva el bot√≥n */
}

/* Mensaje final */
.mensaje-final {
    display: none;
    margin-top: 20px;
    padding: 10px;
    background: rgba(0,0,0,0.5);
    color: #fff;
    border: 2px solid #fff;
    font-size: 10px;
    line-height: 1.8;
}

/* =========================================
   FOOTER: Created by Los colochos mx
   ========================================= */
.footer-credit {
    position: fixed;
    bottom: 10px;
    left: 10px;
    font-size: 8px;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
    z-index: 100;
    opacity: 0.8;
}

/* =========================================
   PIXEL HEART (CSS PURE)
   ========================================= */
.pixel-heart {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: red;
    box-shadow: 
        10px 0 red, -10px 0 red, 
        20px 0 red, -20px 0 red,
        0 10px red, 
        10px 10px red, -10px 10px red,
        20px 10px red, -20px 10px red,
        0 20px red, 
        10px 20px red, -10px 20px red,
        0 30px red;
    transform: scale(0.5); /* Ajustar tama√±o */
    animation: floatUp linear infinite;
    z-index: 1;
    opacity: 0.8;
}

@keyframes floatUp {
    0% { transform: translateY(110vh) scale(0.5); opacity: 1; }
    100% { transform: translateY(-10vh) scale(0.5); opacity: 0; }
}

/* Copy box */
.copy-area { display: none; margin-top: 20px; border-top: 2px dashed #555; padding-top:10px;}
.link-box { font-family: 'Arial'; font-size:10px; background:#fff; padding:5px; border:2px solid #000; margin-bottom:10px; color:#000; word-break: break-all;}

</style>
</head>

<body>

<div class="cloud" style="top: 10%; animation-duration: 25s;"></div>
<div class="cloud" style="top: 30%; animation-duration: 35s; opacity: 0.7;"></div>
<div class="cloud" style="top: 60%; animation-duration: 20s; scale: 0.8;"></div>

<div id="pantalla-creador" class="minecraft-box">
    <div class="splash">¬°Edici√≥n Limitada!</div>
    <h1 class="mc-title">üõ†Ô∏è CRAFTING TABLE üõ†Ô∏è<br><span style="font-size:10px; color:#555;">San Valent√≠n Update</span></h1>
    
    <div class="mc-input-group">
        <label class="mc-label">Tu Nombre (Jugador 1):</label>
        <input type="text" id="inputFrom" class="mc-input" placeholder="Steve">
    </div>

    <div class="mc-input-group">
        <label class="mc-label">Su Nombre (Jugador 2):</label>
        <input type="text" id="inputTo" class="mc-input" placeholder="Alex">
    </div>

    <button class="mc-btn btn-green" onclick="generarLink()">[CRAFTEAR CARTA]</button>

    <div id="resultado" class="copy-area">
        <p style="font-size:8px; margin-bottom:5px;">ITEM CRAFTEADO CON √âXITO:</p>
        <div id="link-text" class="link-box"></div>
        <button class="mc-btn" style="padding:5px;" onclick="copiarGenerado()">COPIAR COORDENADAS</button>
        <button class="mc-btn" style="padding:5px;" onclick="abrirLink()">ABRIR MUNDO</button>
    </div>
</div>

<div id="pantalla-carta" class="minecraft-box">
    <h1 class="mc-title" id="titulo"></h1>
    <p style="font-size:10px; line-height:1.5; color:#333;" id="texto"></p>

    <div class="botones-container">
        <button id="si" class="mc-btn btn-green" style="width: auto;">SI üíé</button>
        <button id="no" class="mc-btn btn-red runaway-btn">NO üëæ</button>
    </div>

    <div class="mensaje-final" id="mensaje"></div>

    <div class="share" id="share" style="display:none; margin-top:15px;">
        <button class="mc-btn" onclick="copiarLinkPropio()">Compartir Logro üèÜ</button>
    </div>
</div>

<div class="footer-credit">Created by Los colochos mx</div>

<script>
// === L√ìGICA DE DETECCI√ìN ===
const params = new URLSearchParams(window.location.search);
const hasParams = params.has("to") && params.has("from");

// Sonido de click (opcional, simulado visualmente)
function clickEffect(btn) {
    btn.style.transform = "scale(0.95)";
    setTimeout(() => btn.style.transform = "scale(1)", 100);
}

if (hasParams) {
    // MODO CARTA
    document.getElementById("pantalla-creador").style.display = "none";
    document.getElementById("pantalla-carta").style.display = "block";

    const from = params.get("from");
    const to = params.get("to");

    document.getElementById("titulo").innerHTML = `<span style="color:#aa3737;">‚ù§Ô∏è</span> ${to} <span style="color:#aa3737;">‚ù§Ô∏è</span><br>¬øQuieres ser mi Player 2?`;
    document.getElementById("texto").innerText = `Mensaje de: ${from}`;

    // L√≥gica del bot√≥n SI
    document.getElementById("si").onclick = function() {
        clickEffect(this);
        const msg = document.getElementById("mensaje");
        msg.style.display = "block";
        msg.innerHTML = `
            <span style="color:#55ff55;">¬°LOGRO DESBLOQUEADO!</span><br><br>
            ${from} dice:<br>
            "Eres mi diamante m√°s preciado üíé"<br><br>
            ¬°Feliz San Valent√≠n!
        `;
        document.getElementById("share").style.display = "block";
        document.querySelector(".botones-container").style.display = "none";
        
        // Explosi√≥n de corazones extra
        for(let i=0; i<20; i++) crearCorazon();
    };

    // L√≥gica del bot√≥n NO (Teletransporte Enderman)
    const no = document.getElementById("no");
    function teleportNo() {
        const box = document.querySelector('.minecraft-box').getBoundingClientRect();
        
        // Limites seguros dentro de la pantalla
        const x = Math.random() * (window.innerWidth - 100);
        const y = Math.random() * (window.innerHeight - 100);
        
        no.style.position = "fixed"; // Cambiar a fixed para salir del contenedor
        no.style.left = x + "px";
        no.style.top = y + "px";
    }
    no.addEventListener("mouseover", teleportNo);
    no.addEventListener("touchstart", teleportNo);
    no.onclick = teleportNo; // Por si acaso logran darle click

    // Loop de corazones
    setInterval(crearCorazon, 300);

} else {
    // MODO CREADOR
    document.getElementById("pantalla-creador").style.display = "block";
    setInterval(crearCorazon, 600); // Menos corazones en el creador
}

// === FUNCIONES GENERALES ===
function crearCorazon() {
    const c = document.createElement("div");
    c.className = "pixel-heart";
    c.style.left = Math.random() * 100 + "vw";
    c.style.animationDuration = (Math.random() * 3 + 4) + "s";
    // Colores aleatorios de corazones (Rojo, Rosa, Dorado)
    const colors = ["#ff0000", "#ff69b4", "#ffd700"]; 
    const color = colors[Math.floor(Math.random() * colors.length)];
    c.style.backgroundColor = color;
    c.style.boxShadow = `
        10px 0 ${color}, -10px 0 ${color}, 
        20px 0 ${color}, -20px 0 ${color},
        0 10px ${color}, 
        10px 10px ${color}, -10px 10px ${color},
        20px 10px ${color}, -20px 10px ${color},
        0 20px ${color}, 
        10px 20px ${color}, -10px 20px ${color},
        0 30px ${color}`;
    
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 7000);
}

function generarLink() {
    const fromVal = document.getElementById("inputFrom").value.trim() || "Steve";
    const toVal = document.getElementById("inputTo").value.trim() || "Alex";
    const baseUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
    const finalUrl = `${baseUrl}?to=${encodeURIComponent(toVal)}&from=${encodeURIComponent(fromVal)}`;
    document.getElementById("link-text").innerText = finalUrl;
    document.getElementById("resultado").style.display = "block";
}

function copiarGenerado() {
    navigator.clipboard.writeText(document.getElementById("link-text").innerText);
    alert("¬°Coordenadas copiadas al portapapeles!");
}

function abrirLink() {
    window.location.href = document.getElementById("link-text").innerText;
}

function copiarLinkPropio() {
    navigator.clipboard.writeText(window.location.href);
    alert("Link copiado para compartir");
}
</script>

</body>
</html>
